---
title: Тестирование и обеспечение качества программного обеспечения
---
## О тестировании
Тестирование - процесс исполнения программы с целью выявления ошибок. Оно помогает убедиться, что программное обеспечение работает так, как задумано, и соответствует требованиям пользователей.

## Виды тестирования
### Ручное тестирование
Ручное тестирование включает в себя выполнение тестов вручную без использования автоматизированных инструментов. Тестировщики следуют заранее определенным сценариям, проверяя функциональность и удобство использования.

### Автоматизированное тестирование
Автоматизированное тестирование использует специализированные инструменты для выполнения тестов. Это позволяет быстро и эффективно проверять большие объемы кода, особенно при частых изменениях.

Виды автоматизированного тестирования:
- **Юнит-тестирование**: Проверка отдельных компонентов или функций программы.
- **Интеграционное тестирование**: Проверка взаимодействия между различными модулями.
- **Системное тестирование**: Проверка всей системы в целом.
- **Приемочное тестирование**: Проверка соответствия системы требованиям пользователя.

### Нефункциональное тестирование
Нефункциональное тестирование оценивает аспекты системы, не связанные с конкретными функциями, такие как производительность, безопасность и удобство использования.
- Нагрузочное тестирование: Проверка поведения системы при ожидаемой нагрузке.
- Стрессовое тестирование: Проверка поведения системы при чрезмерной (экстремальной) нагрузке.
- Тестирование безопасности: Проверка уязвимостей и механизмов защиты данных.
- Тестирование юзабилити: Оценка того, насколько удобно и легко пользователю работать с системой.

## Приемы тестирования
- Тестирование черного ящика: Тестирование без знания внутренней структуры кода.
- Тестирование белого ящика: Тестирование с полным знанием внутренней структуры кода.
- Регрессионное тестирование: Проверка, что новые изменения не нарушили существующую функциональность.
- Тестирование производительности: Оценка скорости и отзывчивости системы под нагрузкой.
- Тестирование безопасности: Проверка уязвимостей и защиты данных.

## Классы эквивалентности
Классы эквивалентности - это метод, который делит входные данные на группы (классы), которые предполагаются обрабатываться одинаково.
- Позитивные классы: Входные данные, которые должны быть приняты системой.
- Негативные классы: Входные данные, которые должны быть отклонены системой.

Первым делом должны быть протестированы позитивные классы, чтобы убедиться, что система работает правильно с корректными данными. Затем следует протестировать негативные классы, чтобы проверить, что система адекватно обрабатывает некорректные или неожиданные данные.

### Пример 1
Протестировать функцию валидации пароля, которая требует, чтобы пароль был от 8 до 12 символов. Символы любые.
Классы эквивалентности:
- Позитивные классы:
  - Пароль длиной от 8 до 12 символов (например, "password123").
- Негативные классы:
  - Пароль короче 8 символов (например, "short").
  - Пароль длиннее 12 символов (например, "passsssssssssword").

### Пример 2
Протестировать функцию поиска элемента в массиве. Если элемент найден, функция возвращает его индекс, иначе -1.
Классы эквивалентности:
- Позитивные классы:
  - Элемент присутствует в массиве (например, массив [1, 2, 3], ищем 2).
- Негативные классы:
  - Элемент отсутствует в массиве (например, массив [1, 2, 3], ищем 4).
  - Массив пуст (например, массив [], ищем 1).

## Граничные значения
Граничные значения - это тестирование на границах классов эквивалентности. Тестирование граничных значений помогает выявить ошибки, которые могут возникнуть на границах допустимых и недопустимых входных данных. Например, если диапазон допустимых значений от 1 до 100, то граничные значения будут 1, 100, а также значения сразу за границами, такие как 0 и 101.
*Зачем?*
Согласно исследованиям, ошибки чаще всего возникают именно на границах диапазонов, поэтому тестирование граничных значений помогает выявить потенциальные проблемы в программном обеспечении.
Например, программисты часто ошибаются при использовании операторов сравнения, таких как `<`, `<=`, `>`, `>=`. Тестирование граничных значений помогает выявить такие ошибки.

### Пример 1
Продолжая пример с паролем от 8 до 12 символов, граничные значения будут:
- 7 символов (недопустимо)
- 8 символов (допустимо)
- 12 символов (допустимо)
- 13 символов (недопустимо)

## Автоматизированное тестирование на C#
Для автоматизации тестирования на C# одним из популярных фреймфорков является MSTest. 

Фреймворк - это набор инструментов и библиотек, которые упрощают процесс написания и выполнения кода.

Автоматизированные тесты пишутся в формате Arrange-Act-Assert (AAA):
- Arrange (Подготовка): Настройка необходимых условий и данных для теста.
- Act (Действие): Выполнение действия, которое нужно протестировать.
- Assert (Проверка): Проверка, что результат действия соответствует ожиданиям.

Для проверки условий в тестах используются утверждения (assertions). Условия представляют собой статические методы класса [Assert](https://learn.microsoft.com/ru-ru/dotnet/core/testing/unit-testing-mstest-writing-tests-assertions), которые проверяют истинность определенных утверждений. Если утверждение ложно, тест считается проваленным.
Например:
- `Assert.AreEqual(expected, actual)` - Проверяет, что два значения равны.
- `Assert.IsTrue(condition)` - Проверяет, что условие истинно.
- `Assert.IsFalse(condition)` - Проверяет, что условие ложно.
- `Assert.IsThrow<TException>(action)` - Проверяет, что выполнение действия вызывает исключение указанного типа.
- `Assert.IsNull(object)` - Проверяет, что объект равен null.

Тестирование классов и функций, содержащих побочные эффекты (например, ввод/вывод с консоли, работа с файлами, работа с сетью), требует использования мок-объектов (mock objects). Мок-объекты - это имитации реальных объектов, которые позволяют изолировать тестируемый код от внешних зависимостей. Это помогает сосредоточиться на логике тестируемого кода и избежать влияния побочных эффектов на результаты тестов. Написание кода, который легко тестируется, требует понимания базовых паттернов проектирования и принципов SOLID.

## Практическая работа
### Проверка прав доступа
Протестируйте функцию `can_access(is_admin, is_premium, is_logged_in)`, которая возвращает `true`, если пользователь имеет право доступа к закрытому контенту.

Требования:
- Доступ разрешен, если:
    - Пользователь авторизован (is_logged_in = True) И
    - Пользователь является администратором (is_admin = True), ИЛИ
    - Пользователь премиум-пользователь (is_premium = True)

### Определение типа треугольника
Программа принимает на вход три числа, которые интерпретируются как длины сторон треугольника. Далее программа возвращает сообщение о том, является ли треугольник равносторонним, равнобедренным или разносторонним. Протестируйте эту функцию.

### FizzBuzz
Напишите тесты для функции `fizzbuzz(n)`.


## Использованные ресурсы
1. Майерс, Г. Искусство тестирования программ/Пер. с англ. под ред. Б.А. Позина. -  М.: Финансы и статистика, 1982. - 176 с.
2. [Roadmap.sh](https://roadmap.sh) - Карты развития для разработчиков